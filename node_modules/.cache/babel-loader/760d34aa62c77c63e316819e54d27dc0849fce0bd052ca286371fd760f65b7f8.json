{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./timer.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function Timer(){const[timeLeft,setTimeLeft]=useState(0);const[isActive,setIsActive]=useState(false);useEffect(()=>{const checkOrderStatus=()=>{const orderHistory=JSON.parse(localStorage.getItem('orderHistory')||'[]');if(orderHistory.length>0){const lastOrder=orderHistory[orderHistory.length-1];const orderTime=new Date(lastOrder.date).getTime();const currentTime=new Date().getTime();const elapsedSeconds=Math.floor((currentTime-orderTime)/1000);const remainingSeconds=Math.max(0,40*60-elapsedSeconds);if(remainingSeconds>0){setTimeLeft(remainingSeconds);setIsActive(true);}else{setIsActive(false);}}else{setIsActive(false);}};checkOrderStatus();const timer=setInterval(()=>{setTimeLeft(prev=>{if(prev<=1){setIsActive(false);return 0;}return prev-1;});},1000);return()=>clearInterval(timer);},[]);if(!isActive)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"timer-container\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Qolgan vaqt: \",Math.floor(timeLeft/60),\":\",(timeLeft%60).toString().padStart(2,'0')]})});}","map":{"version":3,"names":["React","useState","useEffect","jsxs","_jsxs","jsx","_jsx","Timer","timeLeft","setTimeLeft","isActive","setIsActive","checkOrderStatus","orderHistory","JSON","parse","localStorage","getItem","length","lastOrder","orderTime","Date","date","getTime","currentTime","elapsedSeconds","Math","floor","remainingSeconds","max","timer","setInterval","prev","clearInterval","className","children","toString","padStart"],"sources":["/Users/admin/Desktop/xummor-somsa/src/component/Timer/Timer.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './timer.css';\n\nexport default function Timer() {\n  const [timeLeft, setTimeLeft] = useState(0);\n  const [isActive, setIsActive] = useState(false);\n\n  useEffect(() => {\n    const checkOrderStatus = () => {\n      const orderHistory = JSON.parse(localStorage.getItem('orderHistory') || '[]');\n      if (orderHistory.length > 0) {\n        const lastOrder = orderHistory[orderHistory.length - 1];\n        const orderTime = new Date(lastOrder.date).getTime();\n        const currentTime = new Date().getTime();\n        const elapsedSeconds = Math.floor((currentTime - orderTime) / 1000);\n        const remainingSeconds = Math.max(0, 40 * 60 - elapsedSeconds);\n\n        if (remainingSeconds > 0) {\n          setTimeLeft(remainingSeconds);\n          setIsActive(true);\n        } else {\n          setIsActive(false);\n        }\n      } else {\n        setIsActive(false);\n      }\n    };\n\n    checkOrderStatus();\n\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          setIsActive(false);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  if (!isActive) return null;\n\n  return (\n    <div className=\"timer-container\">\n      <p>Qolgan vaqt: {Math.floor(timeLeft / 60)}:{(timeLeft % 60).toString().padStart(2, '0')}</p>\n    </div>\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,aAAa,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAErB,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAG,CAC9B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGR,QAAQ,CAAC,CAAC,CAAC,CAC3C,KAAM,CAACS,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CAE/CC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAU,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAAC,YAAY,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,EAAI,IAAI,CAAC,CAC7E,GAAIJ,YAAY,CAACK,MAAM,CAAG,CAAC,CAAE,CAC3B,KAAM,CAAAC,SAAS,CAAGN,YAAY,CAACA,YAAY,CAACK,MAAM,CAAG,CAAC,CAAC,CACvD,KAAM,CAAAE,SAAS,CAAG,GAAI,CAAAC,IAAI,CAACF,SAAS,CAACG,IAAI,CAAC,CAACC,OAAO,CAAC,CAAC,CACpD,KAAM,CAAAC,WAAW,CAAG,GAAI,CAAAH,IAAI,CAAC,CAAC,CAACE,OAAO,CAAC,CAAC,CACxC,KAAM,CAAAE,cAAc,CAAGC,IAAI,CAACC,KAAK,CAAC,CAACH,WAAW,CAAGJ,SAAS,EAAI,IAAI,CAAC,CACnE,KAAM,CAAAQ,gBAAgB,CAAGF,IAAI,CAACG,GAAG,CAAC,CAAC,CAAE,EAAE,CAAG,EAAE,CAAGJ,cAAc,CAAC,CAE9D,GAAIG,gBAAgB,CAAG,CAAC,CAAE,CACxBnB,WAAW,CAACmB,gBAAgB,CAAC,CAC7BjB,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,IAAM,CACLA,WAAW,CAAC,KAAK,CAAC,CACpB,CACF,CAAC,IAAM,CACLA,WAAW,CAAC,KAAK,CAAC,CACpB,CACF,CAAC,CAEDC,gBAAgB,CAAC,CAAC,CAElB,KAAM,CAAAkB,KAAK,CAAGC,WAAW,CAAC,IAAM,CAC9BtB,WAAW,CAACuB,IAAI,EAAI,CAClB,GAAIA,IAAI,EAAI,CAAC,CAAE,CACbrB,WAAW,CAAC,KAAK,CAAC,CAClB,MAAO,EAAC,CACV,CACA,MAAO,CAAAqB,IAAI,CAAG,CAAC,CACjB,CAAC,CAAC,CACJ,CAAC,CAAE,IAAI,CAAC,CAER,MAAO,IAAMC,aAAa,CAACH,KAAK,CAAC,CACnC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAACpB,QAAQ,CAAE,MAAO,KAAI,CAE1B,mBACEJ,IAAA,QAAK4B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B/B,KAAA,MAAA+B,QAAA,EAAG,eAAa,CAACT,IAAI,CAACC,KAAK,CAACnB,QAAQ,CAAG,EAAE,CAAC,CAAC,GAAC,CAAC,CAACA,QAAQ,CAAG,EAAE,EAAE4B,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,EAAI,CAAC,CAC1F,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}