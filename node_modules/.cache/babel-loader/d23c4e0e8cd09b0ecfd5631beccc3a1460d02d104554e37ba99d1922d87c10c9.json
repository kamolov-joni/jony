{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Desktop/xummor-somsa/src/component/Timer/Timer.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './timer.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Timer() {\n  _s();\n  const [timeLeft, setTimeLeft] = useState(0);\n  const [isActive, setIsActive] = useState(false);\n  useEffect(() => {\n    const checkOrderStatus = () => {\n      const orderHistory = JSON.parse(localStorage.getItem('orderHistory') || '[]');\n      if (orderHistory.length > 0) {\n        const lastOrder = orderHistory[orderHistory.length - 1];\n        const orderTime = new Date(lastOrder.date).getTime();\n        const currentTime = new Date().getTime();\n        const elapsedSeconds = Math.floor((currentTime - orderTime) / 1000);\n        const remainingSeconds = Math.max(0, 40 * 60 - elapsedSeconds);\n        if (remainingSeconds > 0) {\n          setTimeLeft(remainingSeconds);\n          setIsActive(true);\n        } else {\n          setIsActive(false);\n        }\n      } else {\n        setIsActive(false);\n      }\n    };\n    checkOrderStatus();\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          setIsActive(false);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n    return () => clearInterval(timer);\n  }, []);\n  if (!isActive) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"timer-container\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Qolgan vaqt: \", Math.floor(timeLeft / 60), \":\", (timeLeft % 60).toString().padStart(2, '0')]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(Timer, \"mfUVAMdQzsw074Dbe1/cWqmCKsY=\");\n_c = Timer;\nvar _c;\n$RefreshReg$(_c, \"Timer\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Timer","_s","timeLeft","setTimeLeft","isActive","setIsActive","checkOrderStatus","orderHistory","JSON","parse","localStorage","getItem","length","lastOrder","orderTime","Date","date","getTime","currentTime","elapsedSeconds","Math","floor","remainingSeconds","max","timer","setInterval","prev","clearInterval","className","children","toString","padStart","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/admin/Desktop/xummor-somsa/src/component/Timer/Timer.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './timer.css';\n\nexport default function Timer() {\n  const [timeLeft, setTimeLeft] = useState(0);\n  const [isActive, setIsActive] = useState(false);\n\n  useEffect(() => {\n    const checkOrderStatus = () => {\n      const orderHistory = JSON.parse(localStorage.getItem('orderHistory') || '[]');\n      if (orderHistory.length > 0) {\n        const lastOrder = orderHistory[orderHistory.length - 1];\n        const orderTime = new Date(lastOrder.date).getTime();\n        const currentTime = new Date().getTime();\n        const elapsedSeconds = Math.floor((currentTime - orderTime) / 1000);\n        const remainingSeconds = Math.max(0, 40 * 60 - elapsedSeconds);\n\n        if (remainingSeconds > 0) {\n          setTimeLeft(remainingSeconds);\n          setIsActive(true);\n        } else {\n          setIsActive(false);\n        }\n      } else {\n        setIsActive(false);\n      }\n    };\n\n    checkOrderStatus();\n\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          setIsActive(false);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  if (!isActive) return null;\n\n  return (\n    <div className=\"timer-container\">\n      <p>Qolgan vaqt: {Math.floor(timeLeft / 60)}:{(timeLeft % 60).toString().padStart(2, '0')}</p>\n    </div>\n  );\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErB,eAAe,SAASC,KAAKA,CAAA,EAAG;EAAAC,EAAA;EAC9B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAE/CC,SAAS,CAAC,MAAM;IACd,MAAMS,gBAAgB,GAAGA,CAAA,KAAM;MAC7B,MAAMC,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,IAAI,IAAI,CAAC;MAC7E,IAAIJ,YAAY,CAACK,MAAM,GAAG,CAAC,EAAE;QAC3B,MAAMC,SAAS,GAAGN,YAAY,CAACA,YAAY,CAACK,MAAM,GAAG,CAAC,CAAC;QACvD,MAAME,SAAS,GAAG,IAAIC,IAAI,CAACF,SAAS,CAACG,IAAI,CAAC,CAACC,OAAO,CAAC,CAAC;QACpD,MAAMC,WAAW,GAAG,IAAIH,IAAI,CAAC,CAAC,CAACE,OAAO,CAAC,CAAC;QACxC,MAAME,cAAc,GAAGC,IAAI,CAACC,KAAK,CAAC,CAACH,WAAW,GAAGJ,SAAS,IAAI,IAAI,CAAC;QACnE,MAAMQ,gBAAgB,GAAGF,IAAI,CAACG,GAAG,CAAC,CAAC,EAAE,EAAE,GAAG,EAAE,GAAGJ,cAAc,CAAC;QAE9D,IAAIG,gBAAgB,GAAG,CAAC,EAAE;UACxBnB,WAAW,CAACmB,gBAAgB,CAAC;UAC7BjB,WAAW,CAAC,IAAI,CAAC;QACnB,CAAC,MAAM;UACLA,WAAW,CAAC,KAAK,CAAC;QACpB;MACF,CAAC,MAAM;QACLA,WAAW,CAAC,KAAK,CAAC;MACpB;IACF,CAAC;IAEDC,gBAAgB,CAAC,CAAC;IAElB,MAAMkB,KAAK,GAAGC,WAAW,CAAC,MAAM;MAC9BtB,WAAW,CAACuB,IAAI,IAAI;QAClB,IAAIA,IAAI,IAAI,CAAC,EAAE;UACbrB,WAAW,CAAC,KAAK,CAAC;UAClB,OAAO,CAAC;QACV;QACA,OAAOqB,IAAI,GAAG,CAAC;MACjB,CAAC,CAAC;IACJ,CAAC,EAAE,IAAI,CAAC;IAER,OAAO,MAAMC,aAAa,CAACH,KAAK,CAAC;EACnC,CAAC,EAAE,EAAE,CAAC;EAEN,IAAI,CAACpB,QAAQ,EAAE,OAAO,IAAI;EAE1B,oBACEL,OAAA;IAAK6B,SAAS,EAAC,iBAAiB;IAAAC,QAAA,eAC9B9B,OAAA;MAAA8B,QAAA,GAAG,eAAa,EAACT,IAAI,CAACC,KAAK,CAACnB,QAAQ,GAAG,EAAE,CAAC,EAAC,GAAC,EAAC,CAACA,QAAQ,GAAG,EAAE,EAAE4B,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;IAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1F,CAAC;AAEV;AAAClC,EAAA,CA/CuBD,KAAK;AAAAoC,EAAA,GAALpC,KAAK;AAAA,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}